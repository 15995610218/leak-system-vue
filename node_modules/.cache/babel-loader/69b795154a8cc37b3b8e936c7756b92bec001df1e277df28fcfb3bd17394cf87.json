{"ast":null,"code":"import MyPagination from '@/components/MyPagination.vue';\nimport base from \"@/api/base\";\nexport default {\n  components: {\n    MyPagination\n  },\n  data() {\n    return {\n      input: '',\n      tableData: [],\n      total: 100,\n      sizePage: 10,\n      currentPage: 1\n    };\n  },\n  methods: {\n    //    分页事件查询数据\n    handleCurrentChange(currentPage) {\n      this.getLeskList(currentPage, this.sizePage);\n    },\n    handleSizeChange(sizePage) {\n      this.getLeskList(this.currentPage, sizePage);\n    },\n    //    操作-编辑事件和删除事件\n    handleEdit() {},\n    handleDelete() {},\n    async getLeskList(currentPage, sizePage) {\n      let res = await this.$api.getleakList({\n        currentPage,\n        sizePage\n      });\n      if (res.data.state === 200) {\n        this.tableData = res.data.data.rows;\n        this.total = res.data.data.totalcount;\n        console.log(this.tableData);\n      }\n    }\n  },\n  created() {\n    this.getLeskList(this.currentPage, this.sizePage);\n  }\n};","map":{"version":3,"mappings":"AAoEA;AACA;AACA;EACAA;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;IAEA;IACAC;MACA;IACA;IACA;IACAC,cAEA;IACAC,gBAEA;IACA;MACA;QAAAL;QAAAD;MAAA;MACA;QACA;QACA;QACAO;MACA;IACA;EACA;EACAC;IACA;EACA;AAEA","names":["components","MyPagination","data","input","tableData","total","sizePage","currentPage","methods","handleCurrentChange","handleSizeChange","handleEdit","handleDelete","console","created"],"sourceRoot":"src/views/kunshan/leakManagement","sources":["leak.vue"],"sourcesContent":["<template>\n<!--        表头位置-->\n    <div class=\"ksleak\">\n        <div class=\"header\">\n            <div>\n                <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n                    <el-form-item label=\"漏洞名称\">\n                        <el-input v-model=\"formInline.user\" placeholder=\"漏洞名称\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"风险等级\">\n                        <el-select v-model=\"formInline.region\" placeholder=\"风险等级\">\n                            <el-option label=\"特高\" value=\"4\"></el-option>\n                            <el-option label=\"高\" value=\"3\"></el-option>\n                            <el-option label=\"中\" value=\"2\"></el-option>\n                            <el-option label=\"低\" value=\"1\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"系统名称\">\n                        <el-input v-model=\"formInline.user\" placeholder=\"系统名称\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"负责人\">\n                        <el-input v-model=\"formInline.user\" placeholder=\"负责人\"></el-input>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\n                    </el-form-item>\n                </el-form>\n            </div>\n        </div>\n        <br>\n<!--        内容位置-->\n        <div class=\"warpper\">\n            <el-table :data=\"tableData\" height=\"500\" border style=\"width: 100%\">\n                <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n                <el-table-column label=\"安全团队\" >\n                    <el-table-column prop=\"leakdate\" label=\"日期\"></el-table-column>\n                    <el-table-column prop=\"leakname\" label=\"漏洞名称\" show-overflow-tooltip></el-table-column>\n                    <el-table-column prop=\"leakgrade\" label=\"风险等级\" show-overflow-tooltip></el-table-column>\n                    <el-table-column prop=\"leaksystem\" label=\"系统名称\" show-overflow-tooltip></el-table-column>\n                </el-table-column>\n                <el-table-column label=\"处置团队\">\n                    <el-table-column prop=\"technician\" label=\"负责人\"></el-table-column>\n                    <el-table-column prop=\"restore\" label=\"修复方案\"></el-table-column>\n                    <el-table-column prop=\"restoreplan\" label=\"修复计划\"></el-table-column>\n                    <el-table-column prop=\"restoreresult\" label=\"修复结果\" show-overflow-tooltip></el-table-column>\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"150\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                                size=\"mini\"\n                                @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                        <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n<!--        分页位置    -->\n        <div>\n            <MyPagination :total=\"total\" :pageSize=\"sizePage\" @handleCurrentChange=\"handleCurrentChange\" @handleSizeChange=\"handleSizeChange\"/>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import MyPagination from '@/components/MyPagination.vue'\n    import base from \"@/api/base\";\n    export default {\n        components:{\n            MyPagination\n        },\n        data(){\n            return{\n                input:'',\n                tableData:[],\n                total:100,\n                sizePage:10,\n                currentPage:1\n            }\n        },\n        methods:{\n        //    分页事件查询数据\n            handleCurrentChange(currentPage){\n                this.getLeskList(currentPage,this.sizePage);\n\n            },\n            handleSizeChange(sizePage){\n                this.getLeskList(this.currentPage,sizePage)\n            },\n        //    操作-编辑事件和删除事件\n            handleEdit(){\n\n            },\n            handleDelete(){\n\n            },\n            async getLeskList(currentPage,sizePage){\n                let res = await this.$api.getleakList({currentPage,sizePage})\n                if (res.data.state===200){\n                    this.tableData = res.data.data.rows;\n                    this.total = res.data.data.totalcount;\n                    console.log(this.tableData);\n                }\n            }\n        },\n        created(){\n            this.getLeskList(this.currentPage,this.sizePage);\n        }\n\n    }\n\n</script>\n\n<style lang=\"less\" scoped>\n    .ksleak{\n        margin: 20px;\n    }\n    .header{\n        display: flex;\n    }\n    .header button{\n        margin-left: 20px;\n    }\n    .el-table-column{\n        text-align: center;\n    }\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}